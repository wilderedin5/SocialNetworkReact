{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/Users/Users.module.scss","components/Users/User/User.module.scss","assets/image/defaultAVA.jpg","components/Users/User/User.jsx","components/Users/Users.jsx","redux/Selectors/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","User","isFollowingProgress","unfollow","follow","user","className","style","userItem","avatar","id","src","photos","small","userPhoto","alt","size","followed","disabled","some","key","onClick","mainInfo","fullname","name","status","Users","userPage","pagination","defaultCurrent","current","currentPage","total","totalUsersCount","onChange","onPageChanged","showSizeChanger","users","map","getUsers","usersPage","getPageSize","pageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getIsFollowingProgress","compose","setUsers","setCurrentPage","setTotalUsersCount","toggleIsFetching","requestForUsers","useEffect","pageNumber"],"mappings":"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","file":"static/js/7.9bc98eb8.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    const connectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n    return connectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pagination\":\"Users_pagination__1d-jG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userItem\":\"User_userItem__32vjs\",\"avatar\":\"User_avatar__3sf2t\",\"mainInfo\":\"User_mainInfo__n2g48\"};","module.exports = __webpack_public_path__ + \"static/media/defaultAVA.f7bea04b.jpg\";","import React from 'react';\r\nimport style from './User.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\nimport userPhoto from '../../../assets/image/defaultAVA.jpg';\r\nimport { Button, Avatar } from 'antd';\r\n\r\nconst User = ({isFollowingProgress,unfollow,follow,user}) => {\r\n    return (\r\n        <div>\r\n            <div className={style.userItem}>\r\n                <div className={style.avatar}>\r\n                    <NavLink to={\"/profile/\" + user.id}>\r\n                        <Avatar src={user.photos.small != null ? user.photos.small : userPhoto} alt=\"\" size={64} />\r\n                    </NavLink>\r\n                    {user.followed ? <Button disabled={isFollowingProgress.some(key => key === user.id)} onClick={() => {\r\n                        unfollow(user.id);\r\n                    }}>Подписаться</Button> : <Button disabled={isFollowingProgress.some(key => key === user.id)} onClick={() => {\r\n                        follow(user.id);\r\n                    }}>Отписаться</Button>}\r\n                </div>\r\n                <div className={style.mainInfo}>\r\n                    <div className={style.fullname}><span>Имя:</span> {user.name}</div>\r\n                    <div className={style.status}><span>Статус:</span> {user.status ? user.status : \"Не заполнено!\"}</div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default User;","import React from 'react';\r\nimport style from './Users.module.scss';\r\nimport User from './User/User';\r\nimport { Pagination } from 'antd';\r\n\r\nconst Users = (props) => {\r\n    return (\r\n        <div className={style.userPage}>\r\n            <Pagination className={style.pagination} defaultCurrent={1} current={props.currentPage} total={props.totalUsersCount} onChange={props.onPageChanged} showSizeChanger={false} />\r\n            {\r\n                props.users.map(user => (\r\n                    <User key={user.id} isFollowingProgress={props.isFollowingProgress} unfollow={props.unfollow} follow={props.follow} user={user} />\r\n                ))\r\n            } \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\nexport const getIsFollowingProgress = (state) => {\r\n    return state.usersPage.isFollowingProgress\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { follow, unfollow, setUsers, setCurrentPage, setTotalUsersCount, toggleIsFetching, requestForUsers } from '../../redux/users-reducer';\r\nimport Users from './Users';\r\nimport Prealoder from '../common/Preloader/Preloader';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getIsFollowingProgress } from '../../redux/Selectors/users-selectors';\r\nimport { useEffect } from 'react';\r\n\r\nconst UsersContainer = (props) => {\r\n    useEffect(() => {\r\n        props.requestForUsers(props.currentPage, props.pageSize);\r\n    }, []);\r\n\r\n    const onPageChanged = (pageNumber) => {\r\n        props.setCurrentPage(pageNumber);\r\n        props.requestForUsers(pageNumber, props.pageSize);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {props.isFetching ? <Prealoder /> : null}\r\n            <Users totalUsersCount={props.totalUsersCount}\r\n                pageSize={props.pageSize}\r\n                currentPage={props.currentPage}\r\n                onPageChanged={onPageChanged}\r\n                users={props.users}\r\n                follow={props.follow}\r\n                unfollow={props.unfollow}\r\n                isFollowingProgress={props.isFollowingProgress} />\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        isFollowingProgress: getIsFollowingProgress(state)\r\n    }\r\n};\r\n\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        follow, unfollow,\r\n        setUsers, setCurrentPage, setTotalUsersCount,\r\n        toggleIsFetching, requestForUsers\r\n    })\r\n)(UsersContainer);"],"sourceRoot":""}