(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{494:function(e,t,a){e.exports={profileDesc:"ProfileInfo_profileDesc__5go6G",profileAvatar:"ProfileInfo_profileAvatar__4Raf9",avatarImage:"ProfileInfo_avatarImage__14ppm",uploadPhoto:"ProfileInfo_uploadPhoto__2hZ6K",editModeBtn:"ProfileInfo_editModeBtn__F_nnL",profileInfo:"ProfileInfo_profileInfo__1kdLq",profileInfoName:"ProfileInfo_profileInfoName__jnOEh"}},498:function(e,t,a){e.exports={MyPosts:"MyPosts_MyPosts__1o1s0",contentNewPosts:"MyPosts_contentNewPosts__lkcTq"}},499:function(e,t,a){e.exports={post:"Post_post__2msS2"}},500:function(e,t,a){e.exports={statusInput:"ProfileStatus_statusInput__2m2EC"}},501:function(e,t,a){e.exports=a.p+"static/media/noAvatar.c44864fc.jpg"},538:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(498),r=a.n(l),c=a(499),i=a.n(c),s=a(247),u=a(483),m=a(480),p=a(488),f=a(489),d=a(490),E=function(e){var t=[e.liked?o.a.createElement("span",{key:"comment-basic-like"},o.a.createElement(s.a,{title:"Like"},o.a.createElement(!0===e.liked?p.a:f.a,{onClick:function(){return e.toggleLikePost(e.id)}})),o.a.createElement("span",{className:"comment-action"},e.likeCount)):o.a.createElement("span",{key:' key="comment-basic-dislike"'},o.a.createElement(s.a,{title:"Dislike"},o.a.createElement(!1===e.liked||null===e.liked?f.a:d.a,{onClick:function(){return e.toggleLikePost(e.id)}})),o.a.createElement("span",{className:"comment-action"},e.likeCount)),o.a.createElement("span",{onClick:function(){return e.deletePost(e.id)}},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442")];return o.a.createElement(u.a,{className:i.a.post,author:o.a.createElement("a",null,e.name),actions:t,avatar:o.a.createElement(m.a,{size:"large",shape:"circle",src:e.avatar?e.avatar:"https://www.kino-teatr.ru/movie/kadr/36398/pv_82319.jpg",alt:"Han Solo"}),content:o.a.createElement("p",null,e.message)})},v=a(220),b=a(221),h=a(31),P=a(77),g=a(486),k=Object(h.a)(250),y=Object(h.a)(60),_=Object(P.a)("textarea"),I=Object(P.a)("input"),j=Object(b.a)({form:"MyPosts"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",null,o.a.createElement(v.a,{component:_,name:"postText",placeholder:"\u042d\u0442\u0430 \u0441\u0442\u0435\u043d\u0430 \u0436\u0434\u0435\u0442 \u0442\u0432\u043e\u0435\u0433\u043e \u043f\u043e\u0441\u0442\u0430!",validate:[h.b,k]})),o.a.createElement("div",null,o.a.createElement(v.a,{component:I,name:"name",placeholder:"\u0418\u043c\u044f..",validate:[h.b,y]})),o.a.createElement("div",null,o.a.createElement(g.a,{type:"primary",htmlType:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),N=a(251),O=function(e){return o.a.createElement("div",{className:r.a.MyPosts},o.a.createElement("h2",null,"\u041c\u043e\u0438 \u043f\u043e\u0441\u0442\u044b"),o.a.createElement(j,{onSubmit:function(t){e.addPost(Object(N.a)(),t.postText,0,null,t.name)}}),o.a.createElement("div",{className:r.a.contentNewPosts},e.posts.map((function(t){return o.a.createElement(E,Object.assign({},t,{toggleLikePost:e.toggleLikePost,deletePost:e.deletePost,key:t.id}))}))))},S=a(167),w=a(14),x=Object(w.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:S.a,deletePost:S.c,toggleLikePost:S.f})(O);function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,o=!1,l=void 0;try{for(var r,c=e[Symbol.iterator]();!(n=(r=c.next()).done)&&(a.push(r.value),!t||a.length!==t);n=!0);}catch(i){o=!0,l=i}finally{try{n||null==c.return||c.return()}finally{if(o)throw l}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var A=a(494),C=a.n(A),F=a(170),L=a(500),T=a.n(L),D=function(e){var t=M(Object(n.useState)(!1),2),a=t[0],l=t[1],r=M(Object(n.useState)(e.status),2),c=r[0],i=r[1];Object(n.useEffect)((function(){i(e.status)}),[e.status]);return o.a.createElement("div",null,a?o.a.createElement("div",null,o.a.createElement("input",{className:T.a.statusInput,autoFocus:!0,onChange:function(e){i(e.currentTarget.value)},onBlur:function(){l(!1),e.updateStatus(c)},value:c})):o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){l(!0)}},c||"----")))},J=function(e){var t=e.contactName,a=e.contactValue;return o.a.createElement("li",null,t,": ",a)},B=Object(h.a)(200),U=Object(P.a)("input"),z=Object(b.a)({form:"profileInfoForm"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",{className:C.a.profileInfo},o.a.createElement("div",{className:C.a.profileInfoName},"\u041c\u043e\u0435 \u0438\u043c\u044f: ",o.a.createElement(v.a,{name:"fullName",placeholder:"\u0418\u043c\u044f",type:"text",component:U,validate:[B]})),o.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",o.a.createElement(v.a,{name:"lookingForAJob",type:"checkbox",component:U,validate:[B]})," "),o.a.createElement("div",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438: ",o.a.createElement(v.a,{name:"lookingForAJobDescription",placeholder:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438",type:"text",component:U,validate:[B]})," "),o.a.createElement("div",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ",o.a.createElement(v.a,{name:"aboutMe",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",type:"text",component:U,validate:[B]})),o.a.createElement("ul",null,Object.keys(e.profile.contacts).map((function(e){return o.a.createElement(v.a,{name:"contacts."+e,key:e,placeholder:e,type:"text",component:U,validate:[B]})})))),o.a.createElement(g.a,{htmlType:"submit",className:C.a.editModeBtn},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"),o.a.createElement("div",null,e.error?e.error:null))})),V=a(501),q=a.n(V),G=a(481),H=function(e){var t=M(Object(n.useState)(!1),2),a=t[0],l=t[1];if(!e.profile)return o.a.createElement(F.a,null);return o.a.createElement("div",{className:C.a.profileDesc},o.a.createElement("div",{className:C.a.profileAvatar},o.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:q.a,className:C.a.avatarImage}),e.isOwner?o.a.createElement("div",null,o.a.createElement("input",{type:"file",id:"photoFile",onChange:function(t){t.target.files.length&&e.updatePhoto(t.target.files[0])},className:C.a.uploadPhoto}),o.a.createElement("label",{for:"photoFile"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443")):""),a?o.a.createElement(z,{initialValues:e.profile,onSubmit:function(t){e.updateProfile(t).then((function(){l(!1)}))},profile:e.profile}):o.a.createElement("div",{className:C.a.profileInfo},o.a.createElement("div",{className:C.a.profileInfoName},e.profile.fullName),o.a.createElement("div",{className:C.a.profileInfoStatus},o.a.createElement(D,{status:e.status,updateStatus:e.updateStatus})),o.a.createElement(G.a,{orientation:"left"},"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",e.profile.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"," "),o.a.createElement("div",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438: ",e.profile.lookingForAJobDescription," "),o.a.createElement("div",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ",e.profile.aboutMe),o.a.createElement(G.a,{orientation:"left"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),o.a.createElement("ul",null,Object.keys(e.profile.contacts).map((function(t){return o.a.createElement(J,{key:t,contactName:t,contactValue:e.profile.contacts[t]})})))),e.isOwner&&!a&&o.a.createElement(g.a,{className:C.a.editModeBtn,onClick:function(){return l(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"))},K=function(e){return o.a.createElement("div",null,o.a.createElement(H,{updatePhoto:e.updatePhoto,isOwner:e.owner,updateProfile:e.updateProfile,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),o.a.createElement(x,null))},R=a(35),Z=a(11),Q=a(161);t.default=Object(Z.d)(Object(w.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getUsersProfile:S.e,getStatus:S.d,updateStatus:S.i,updatePhoto:S.g,updateProfile:S.h}),R.g,Q.a)((function(e){var t=function(){var t=e.match.params.userId;t||(t=e.authorizedUserId),e.getUsersProfile(t),e.getStatus(t)};return Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){t()}),[e.match.params.userId]),o.a.createElement(K,Object.assign({},e,{updatePhoto:e.updatePhoto,owner:!e.match.params.userId,profile:e.profile,status:e.status,updateStatus:e.updateStatus,updateProfile:e.updateProfile}))}))}}]);
//# sourceMappingURL=4.69cf65f9.chunk.js.map