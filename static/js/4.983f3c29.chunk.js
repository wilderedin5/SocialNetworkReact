(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{484:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n=a(485),o=a(486),r=a(488),l=a(487),i=a(489),c=a(0),u=a.n(c),s=a(16),f=a(45),p=function(e){return{isAuth:e.auth.isAuth}},m=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(r.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(i.a)(a,t),Object(o.a)(a,[{key:"render",value:function(){return this.props.isAuth?u.a.createElement(e,this.props):u.a.createElement(f.a,{to:"/login"})}}]),a}(u.a.Component);return Object(s.b)(p)(t)}},485:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return n}))},486:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,"a",(function(){return o}))},487:function(e,t,a){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}a.d(t,"a",(function(){return n}))},488:function(e,t,a){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}a.d(t,"a",(function(){return o}))},489:function(e,t,a){"use strict";function n(e,t){return(n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}a.d(t,"a",(function(){return o}))},493:function(e,t,a){e.exports={profileDesc:"ProfileInfo_profileDesc__5go6G",profileAvatar:"ProfileInfo_profileAvatar__4Raf9",avatarImage:"ProfileInfo_avatarImage__14ppm",uploadPhoto:"ProfileInfo_uploadPhoto__2hZ6K",editModeBtn:"ProfileInfo_editModeBtn__F_nnL",profileInfo:"ProfileInfo_profileInfo__1kdLq",profileInfoName:"ProfileInfo_profileInfoName__jnOEh"}},497:function(e,t,a){e.exports={MyPosts:"MyPosts_MyPosts__1o1s0",contentNewPosts:"MyPosts_contentNewPosts__lkcTq"}},498:function(e,t,a){e.exports={post:"Post_post__2msS2"}},499:function(e,t,a){e.exports={statusInput:"ProfileStatus_statusInput__2m2EC"}},500:function(e,t,a){e.exports=a.p+"static/media/noAvatar.c44864fc.jpg"},533:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(497),l=a.n(r),i=a(498),c=a.n(i),u=a(242),s=a(476),f=a(473),p=a(481),m=a(482),d=a(483),b=function(e){var t=[e.liked?o.a.createElement("span",{key:"comment-basic-like"},o.a.createElement(u.a,{title:"Like"},o.a.createElement(!0===e.liked?p.a:m.a,{onClick:function(){return e.toggleLikePost(e.id)}})),o.a.createElement("span",{className:"comment-action"},e.likeCount)):o.a.createElement("span",{key:' key="comment-basic-dislike"'},o.a.createElement(u.a,{title:"Dislike"},o.a.createElement(!1===e.liked||null===e.liked?m.a:d.a,{onClick:function(){return e.toggleLikePost(e.id)}})),o.a.createElement("span",{className:"comment-action"},e.likeCount)),o.a.createElement("span",{onClick:function(){return e.deletePost(e.id)}},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043f\u043e\u0441\u0442")];return o.a.createElement(s.a,{className:c.a.post,author:o.a.createElement("a",null,e.name),actions:t,avatar:o.a.createElement(f.a,{size:"large",shape:"circle",src:e.avatar?e.avatar:"https://www.kino-teatr.ru/movie/kadr/36398/pv_82319.jpg",alt:"Han Solo"}),content:o.a.createElement("p",null,e.message)})},E=a(217),h=a(218),v=a(31),y=a(76),P=a(479),g=Object(v.a)(250),O=Object(v.a)(60),_=Object(y.a)("textarea"),j=Object(y.a)("input"),k=Object(h.a)({form:"MyPosts"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",null,o.a.createElement(E.a,{component:_,name:"postText",placeholder:"\u042d\u0442\u0430 \u0441\u0442\u0435\u043d\u0430 \u0436\u0434\u0435\u0442 \u0442\u0432\u043e\u0435\u0433\u043e \u043f\u043e\u0441\u0442\u0430!",validate:[v.b,g]})),o.a.createElement("div",null,o.a.createElement(E.a,{component:j,name:"name",placeholder:"\u0418\u043c\u044f..",validate:[v.b,O]})),o.a.createElement("div",null,o.a.createElement(P.a,{type:"primary",htmlType:"submit"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c")))})),S=a(244),I=function(e){return o.a.createElement("div",{className:l.a.MyPosts},o.a.createElement("h2",null,"My posts"),o.a.createElement(k,{onSubmit:function(t){e.addPost(Object(S.a)(),t.postText,0,null,t.name)}}),o.a.createElement("div",{className:l.a.contentNewPosts},e.posts.map((function(t){return o.a.createElement(b,Object.assign({},t,{toggleLikePost:e.toggleLikePost,deletePost:e.deletePost,key:t.id}))}))))},N=a(164),w=a(16),x=Object(w.b)((function(e){return{posts:e.profilePage.posts}}),{addPost:N.a,deletePost:N.c,toggleLikePost:N.f})(I);function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var a=[],n=!0,o=!1,r=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(c){o=!0,r=c}finally{try{n||null==i.return||i.return()}finally{if(o)throw r}}return a}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var M=a(493),C=a.n(M),F=a(167),T=a(499),L=a.n(T),D=function(e){var t=A(Object(n.useState)(!1),2),a=t[0],r=t[1],l=A(Object(n.useState)(e.status),2),i=l[0],c=l[1];Object(n.useEffect)((function(){c(e.status)}),[e.status]);return o.a.createElement("div",null,a?o.a.createElement("div",null,o.a.createElement("input",{className:L.a.statusInput,autoFocus:!0,onChange:function(e){c(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(i)},value:i})):o.a.createElement("div",null,o.a.createElement("span",{onClick:function(){r(!0)}},i||"----")))},J=function(e){var t=e.contactName,a=e.contactValue;return o.a.createElement("li",null,t,": ",a)},B=Object(v.a)(200),U=Object(y.a)("input"),z=Object(h.a)({form:"profileInfoForm"})((function(e){return o.a.createElement("form",{onSubmit:e.handleSubmit},o.a.createElement("div",{className:C.a.profileInfo},o.a.createElement("div",{className:C.a.profileInfoName},"\u041c\u043e\u0435 \u0438\u043c\u044f: ",o.a.createElement(E.a,{name:"fullName",placeholder:"\u0418\u043c\u044f",type:"text",component:U,validate:[B]})),o.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",o.a.createElement(E.a,{name:"lookingForAJob",type:"checkbox",component:U,validate:[B]})," "),o.a.createElement("div",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438: ",o.a.createElement(E.a,{name:"lookingForAJobDescription",placeholder:"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438",type:"text",component:U,validate:[B]})," "),o.a.createElement("div",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ",o.a.createElement(E.a,{name:"aboutMe",placeholder:"\u041e\u0431\u043e \u043c\u043d\u0435",type:"text",component:U,validate:[B]})),o.a.createElement("ul",null,Object.keys(e.profile.contacts).map((function(e){return o.a.createElement(E.a,{name:"contacts."+e,key:e,placeholder:e,type:"text",component:U,validate:[B]})})))),o.a.createElement(P.a,{htmlType:"submit",className:C.a.editModeBtn},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"),o.a.createElement("div",null,e.error?e.error:null))})),V=a(500),q=a.n(V),R=a(474),G=function(e){var t=A(Object(n.useState)(!1),2),a=t[0],r=t[1];if(!e.profile)return o.a.createElement(F.a,null);return o.a.createElement("div",{className:C.a.profileDesc},o.a.createElement("div",{className:C.a.profileAvatar},o.a.createElement("img",{src:e.profile.photos.large?e.profile.photos.large:q.a,className:C.a.avatarImage}),e.isOwner?o.a.createElement("div",null,o.a.createElement("input",{type:"file",id:"photoFile",onChange:function(t){t.target.files.length&&e.updatePhoto(t.target.files[0])},className:C.a.uploadPhoto}),o.a.createElement("label",{for:"photoFile"},"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440\u043a\u0443")):""),a?o.a.createElement(z,{initialValues:e.profile,onSubmit:function(t){e.updateProfile(t).then((function(){r(!1)}))},profile:e.profile}):o.a.createElement("div",{className:C.a.profileInfo},o.a.createElement("div",{className:C.a.profileInfoName},e.profile.fullName),o.a.createElement("div",{className:C.a.profileInfoStatus},o.a.createElement(D,{status:e.status,updateStatus:e.updateStatus})),o.a.createElement(R.a,{orientation:"left"},"\u041e\u0441\u043d\u043e\u0432\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f:"),o.a.createElement("div",null,"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443: ",e.profile.lookingForAJob?"\u0414\u0430":"\u041d\u0435\u0442"," "),o.a.createElement("div",null,"\u041c\u043e\u0438 \u043d\u0430\u0432\u044b\u043a\u0438: ",e.profile.lookingForAJobDescription," "),o.a.createElement("div",null,"\u041e\u0431\u043e \u043c\u043d\u0435: ",e.profile.aboutMe),o.a.createElement(R.a,{orientation:"left"},"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"),o.a.createElement("ul",null,Object.keys(e.profile.contacts).map((function(t){return o.a.createElement(J,{key:t,contactName:t,contactValue:e.profile.contacts[t]})})))),e.isOwner&&!a&&o.a.createElement(P.a,{className:C.a.editModeBtn,onClick:function(){return r(!0)}},"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443"))},H=function(e){return o.a.createElement("div",null,o.a.createElement(G,{updatePhoto:e.updatePhoto,isOwner:e.owner,updateProfile:e.updateProfile,profile:e.profile,status:e.status,updateStatus:e.updateStatus}),o.a.createElement(x,null))},K=a(45),Z=a(11),Q=a(484);t.default=Object(Z.d)(Object(w.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId}}),{getUsersProfile:N.e,getStatus:N.d,updateStatus:N.i,updatePhoto:N.g,updateProfile:N.h}),K.g,Q.a)((function(e){var t=function(){var t=e.match.params.userId;t||(t=e.authorizedUserId),e.getUsersProfile(t),e.getStatus(t)};return Object(n.useEffect)((function(){t()}),[]),Object(n.useEffect)((function(){t()}),[e.match.params.userId]),o.a.createElement(H,Object.assign({},e,{updatePhoto:e.updatePhoto,owner:!e.match.params.userId,profile:e.profile,status:e.status,updateStatus:e.updateStatus,updateProfile:e.updateProfile}))}))}}]);
//# sourceMappingURL=4.983f3c29.chunk.js.map