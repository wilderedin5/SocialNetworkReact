{"version":3,"sources":["hoc/withAuthRedirect.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","components/Dialogs/Dialogs.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","components/Dialogs/MessageItem/MessageItem.module.scss","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/DialogsForm/DialogsForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_typeof","obj","Symbol","iterator","constructor","_possibleConstructorReturn","self","call","ReferenceError","_setPrototypeOf","p","_inherits","subClass","superClass","create","value","module","exports","DialogItem","id","className","style","name","activeClassName","activeDialogName","dialogItem","src","photo","alt","avatar","MessageItem","cn","message","messageToMe","outMe","onClick","deleteMessage","userId","messageDeleteBtn","maxLength250","maxLength","Textarea","createFormElement","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","type","validate","requiredField","btnLineForm","htmlType","deleteAllMessagesFromDialog","Dialogs","Number","match","params","dialogs","dialog","dialogsData","map","d","photoUrl","messages","m","formData","addMessage","dialogsMessageText","compose","dialogsPage","withRouter"],"mappings":"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","file":"static/js/5.8345458e.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    const connectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n    return connectedRedirectComponent;\r\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"../../helpers/esm/typeof\";\nimport assertThisInitialized from \"./assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","import setPrototypeOf from \"./setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xNiy\",\"dialog\":\"Dialogs_dialog__3rmOP\",\"messages\":\"Dialogs_messages__3-JM4\",\"btnLineForm\":\"Dialogs_btnLineForm__1_d1O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"DialogItem_name__2Hhth\",\"dialogItem\":\"DialogItem_dialogItem__shPKp\",\"avatar\":\"DialogItem_avatar__1jNJB\",\"activeDialogName\":\"DialogItem_activeDialogName__1wbwS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageItem_message__31yox\",\"messageDeleteBtn\":\"MessageItem_messageDeleteBtn__3YZv_\",\"messageToMe\":\"MessageItem_messageToMe__2TipN\"};","import React from 'react';\r\nimport style from './DialogItem.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <NavLink to={`/dialogs/${props.id}`} className={style.name} activeClassName={style.activeDialogName}>\r\n            <div className={style.dialogItem}>\r\n                <img src={props.photo} alt=\"\" className={style.avatar} />\r\n                {props.name}\r\n            </div>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport style from './MessageItem.module.scss';\r\nimport cn from \"classnames\";\r\nimport { Button } from 'antd';\r\n\r\n\r\nconst MessageItem = (props) => {\r\n    return(\r\n        <div className={cn(style.message, {[style.messageToMe] : !props.outMe})}>\r\n            <div>{props.message}</div>\r\n            { props.outMe &&\r\n                <Button onClick={() => props.deleteMessage(props.id,props.userId)} className={style.messageDeleteBtn}>Удалить сообщение</Button>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {maxLength,requiredField} from '../../../utils/validate/validateForm';\r\nimport createFormElement from '../../../hoc/createFormElement/createFormElement';\r\nimport { Button } from 'antd';\r\nimport style from '../Dialogs.module.scss';\r\n\r\nconst maxLength250 = maxLength(250);\r\nconst Textarea = createFormElement(\"textarea\");\r\n\r\nconst DialogsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={ Textarea } name={\"dialogsMessageText\"} placeholder=\"Йо, по ту сторону монитора заждались твоего сообщения!!!\" type=\"text\" validate={[maxLength250,requiredField]} />\r\n            </div>\r\n            <div className={style.btnLineForm}>\r\n                <Button htmlType=\"submit\" type=\"primary\">Отправить</Button>\r\n                <Button onClick={() => props.deleteAllMessagesFromDialog(props.id)} type=\"primary\">Очистить чат</Button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nexport default reduxForm({\r\n    // a unique name for the form\r\n    form: 'DialogsForm'\r\n})(DialogsForm)","import React from 'react';\r\nimport style from './Dialogs.module.scss';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DialogsForm from './DialogsForm/DialogsForm';\r\nimport { Button } from 'antd';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let userId = Number(props.match.params.userId);\r\n    if (!userId) {\r\n        userId = 1;\r\n    }\r\n\r\n    let AddMessage = (formData) => {\r\n        props.addMessage(formData.dialogsMessageText,userId);\r\n    };\r\n    \r\n    if (!props.isAuth) return <Redirect to=\"/login\" />\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialog}>\r\n                {\r\n                    props.dialogsData.map(d => <DialogItem key={d.id} name={d.name} id={d.id} photo={d.photoUrl} />)\r\n                }\r\n            </div>\r\n            <div className={style.messages}>\r\n                {\r\n                    props.dialogsData[userId - 1].messages.map(m => <MessageItem key={m.id} userId={userId} id={m.id} message={m.message} outMe={m.outMe} deleteMessage={props.deleteMessage} />)\r\n                }\r\n                <DialogsForm id={userId} deleteAllMessagesFromDialog={props.deleteAllMessagesFromDialog} onSubmit={AddMessage} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import Dialogs from './Dialogs';\r\nimport { addMessage, deleteMessage,deleteAllMessagesFromDialog} from './../../redux/dialogs-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogsPage.dialogsData\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {deleteMessage,addMessage,deleteAllMessagesFromDialog}),\r\n    withAuthRedirect,\r\n    withRouter\r\n)(Dialogs);"],"sourceRoot":""}