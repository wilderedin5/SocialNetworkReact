{"version":3,"sources":["hoc/withAuthRedirect.jsx","components/Dialogs/Dialogs.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","components/Dialogs/MessageItem/MessageItem.module.scss","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/DialogsForm/DialogsForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["mapStateToProps","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","DialogItem","id","className","style","name","activeClassName","activeDialogName","dialogItem","src","photo","alt","avatar","MessageItem","cn","message","messageToMe","outMe","onClick","deleteMessage","userId","messageDeleteBtn","maxLength250","maxLength","Textarea","createFormElement","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","type","validate","requiredField","Dialogs","Number","match","params","dialogs","dialog","dialogsData","map","d","key","photoUrl","messages","m","formData","addMessage","dialogsMessageText","compose","dialogsPage","withRouter"],"mappings":"2NAIMA,EAAkB,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,SAIdE,EAAmB,SAACC,GAAe,IACtCC,EADqC,iLAGnC,OAAKC,KAAKC,MAAMN,OACT,kBAACG,EAAcE,KAAKC,OADI,kBAAC,IAAD,CAAUC,GAAG,eAHT,GACXC,IAAML,WAOtC,OADmCM,YAAQX,EAARW,CAAyBL,K,oBChBhEM,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,SAAW,4B,oBCAjGD,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,+BAA+B,OAAS,2BAA2B,iBAAmB,uC,oBCArJD,EAAOC,QAAU,CAAC,QAAU,6BAA6B,iBAAmB,sCAAsC,YAAc,mC,wGCcjHC,EAXI,SAACN,GAChB,OACI,kBAAC,IAAD,CAASC,GAAE,mBAAcD,EAAMO,IAAMC,UAAWC,IAAMC,KAAMC,gBAAiBF,IAAMG,kBAC/E,yBAAKJ,UAAWC,IAAMI,YAClB,yBAAKC,IAAKd,EAAMe,MAAOC,IAAI,GAAGR,UAAWC,IAAMQ,SAC9CjB,EAAMU,Q,oDCQRQ,EAXK,SAAClB,GACjB,OACI,yBAAKQ,UAAWW,IAAGV,IAAMW,QAAP,eAAkBX,IAAMY,aAAgBrB,EAAMsB,SAC5D,6BAAMtB,EAAMoB,SACVpB,EAAMsB,OACJ,kBAAC,IAAD,CAAQC,QAAS,kBAAMvB,EAAMwB,cAAcxB,EAAMO,GAAGP,EAAMyB,SAASjB,UAAWC,IAAMiB,kBAApF,uG,2CCLVC,EAAeC,YAAU,KACzBC,EAAWC,YAAkB,YAgBpBC,cAAU,CAErBC,KAAM,eAFKD,EAdK,SAAC/B,GACjB,OACI,0BAAMiC,SAAUjC,EAAMkC,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAYP,EAAWnB,KAAM,qBAAsB2B,YAAY,4RAA2DC,KAAK,OAAOC,SAAU,CAACZ,EAAaa,QAEzK,6BACI,kBAAC,IAAD,CAAQF,KAAK,WAAb,+DCqBDG,EA7BC,SAACzC,GACb,IAAIyB,EAASiB,OAAO1C,EAAM2C,MAAMC,OAAOnB,QAClCA,IACDA,EAAS,GAOb,OAAKzB,EAAMN,OAGP,yBAAKc,UAAWC,IAAMoC,SAClB,yBAAKrC,UAAWC,IAAMqC,QAEd9C,EAAM+C,YAAYC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYC,IAAKD,EAAE1C,GAAIG,KAAMuC,EAAEvC,KAAMH,GAAI0C,EAAE1C,GAAIQ,MAAOkC,EAAEE,eAG3F,yBAAK3C,UAAWC,IAAM2C,UAEdpD,EAAM+C,YAAYtB,EAAS,GAAG2B,SAASJ,KAAI,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAAaH,IAAKG,EAAE9C,GAAIkB,OAAQA,EAAQlB,GAAI8C,EAAE9C,GAAIa,QAASiC,EAAEjC,QAASE,MAAO+B,EAAE/B,MAAOE,cAAexB,EAAMwB,mBAE/J,kBAAC,EAAD,CAAaS,SAjBR,SAACqB,GACdtD,EAAMuD,WAAWD,EAASE,mBAAmB/B,QAGvB,kBAAC,IAAD,CAAUxB,GAAG,Y,iCCL5BwD,sBACXtD,aAPkB,SAACV,GACnB,MAAO,CACHsD,YAAatD,EAAMiE,YAAYX,eAKV,CAACvB,kBAAc+B,iBACxC3D,IACA+D,IAHWF,CAIbhB","file":"static/js/6.71cef17d.chunk.js","sourcesContent":["import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render(){\r\n            if (!this.props.isAuth) return <Redirect to=\"/login\" />\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n    const connectedRedirectComponent = connect(mapStateToProps)(RedirectComponent);\r\n    return connectedRedirectComponent;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xNiy\",\"dialog\":\"Dialogs_dialog__3rmOP\",\"messages\":\"Dialogs_messages__3-JM4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"DialogItem_name__2Hhth\",\"dialogItem\":\"DialogItem_dialogItem__shPKp\",\"avatar\":\"DialogItem_avatar__1jNJB\",\"activeDialogName\":\"DialogItem_activeDialogName__1wbwS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageItem_message__31yox\",\"messageDeleteBtn\":\"MessageItem_messageDeleteBtn__3YZv_\",\"messageToMe\":\"MessageItem_messageToMe__2TipN\"};","import React from 'react';\r\nimport style from './DialogItem.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <NavLink to={`/dialogs/${props.id}`} className={style.name} activeClassName={style.activeDialogName}>\r\n            <div className={style.dialogItem}>\r\n                <img src={props.photo} alt=\"\" className={style.avatar} />\r\n                {props.name}\r\n            </div>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport style from './MessageItem.module.scss';\r\nimport cn from \"classnames\";\r\nimport { Button } from 'antd';\r\n\r\n\r\nconst MessageItem = (props) => {\r\n    return(\r\n        <div className={cn(style.message, {[style.messageToMe] : !props.outMe})}>\r\n            <div>{props.message}</div>\r\n            { props.outMe &&\r\n                <Button onClick={() => props.deleteMessage(props.id,props.userId)} className={style.messageDeleteBtn}>Удалить сообщение</Button>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {maxLength,requiredField} from '../../../utils/validate/validateForm';\r\nimport createFormElement from '../../../hoc/createFormElement/createFormElement';\r\nimport { Button } from 'antd';\r\n\r\nconst maxLength250 = maxLength(250);\r\nconst Textarea = createFormElement(\"textarea\");\r\n\r\nconst DialogsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={ Textarea } name={\"dialogsMessageText\"} placeholder=\"Йо, по ту сторону монитора заждались твоего сообщения!!!\" type=\"text\" validate={[maxLength250,requiredField]} />\r\n            </div>\r\n            <div>\r\n                <Button type=\"primary\">Отправить</Button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nexport default reduxForm({\r\n    // a unique name for the form\r\n    form: 'DialogsForm'\r\n})(DialogsForm)","import React from 'react';\r\nimport style from './Dialogs.module.scss';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DialogsForm from './DialogsForm/DialogsForm';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let userId = Number(props.match.params.userId);\r\n    if (!userId) {\r\n        userId = 1;\r\n    }\r\n\r\n    let AddMessage = (formData) => {\r\n        props.addMessage(formData.dialogsMessageText,userId);\r\n    };\r\n    \r\n    if (!props.isAuth) return <Redirect to=\"/login\" />\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialog}>\r\n                {\r\n                    props.dialogsData.map(d => <DialogItem key={d.id} name={d.name} id={d.id} photo={d.photoUrl} />)\r\n                }\r\n            </div>\r\n            <div className={style.messages}>\r\n                {\r\n                    props.dialogsData[userId - 1].messages.map(m => <MessageItem key={m.id} userId={userId} id={m.id} message={m.message} outMe={m.outMe} deleteMessage={props.deleteMessage} />)\r\n                }\r\n                <DialogsForm onSubmit={AddMessage} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import Dialogs from './Dialogs';\r\nimport { addMessage, deleteMessage} from './../../redux/dialogs-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsData: state.dialogsPage.dialogsData\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {deleteMessage,addMessage}),\r\n    withAuthRedirect,\r\n    withRouter\r\n)(Dialogs);"],"sourceRoot":""}