{"version":3,"sources":["components/Dialogs/Dialogs.module.scss","components/Dialogs/DialogItem/DialogItem.module.scss","components/Dialogs/MessageItem/MessageItem.module.scss","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/MessageItem/MessageItem.jsx","components/Dialogs/DialogsForm/DialogsForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["module","exports","DialogItem","props","to","id","className","style","name","activeClassName","activeDialogName","dialogItem","src","photo","alt","avatar","MessageItem","cn","message","messageToMe","outMe","onClick","deleteMessage","userId","messageDeleteBtn","maxLength250","maxLength","Textarea","createFormElement","reduxForm","form","onSubmit","handleSubmit","Field","component","placeholder","type","validate","requiredField","btnLineForm","htmlType","deleteAllMessagesFromDialog","Dialogs","Number","match","params","isAuth","dialogs","dialog","dialogsData","map","d","key","photoUrl","messages","m","formData","addMessage","dialogsMessageText","compose","connect","state","dialogsPage","withAuthRedirect","withRouter"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,wBAAwB,SAAW,0BAA0B,YAAc,+B,oBCAzID,EAAOC,QAAU,CAAC,KAAO,yBAAyB,WAAa,+BAA+B,OAAS,2BAA2B,iBAAmB,uC,oBCArJD,EAAOC,QAAU,CAAC,QAAU,6BAA6B,iBAAmB,sCAAsC,YAAc,mC,wGCcjHC,EAXI,SAACC,GAChB,OACI,kBAAC,IAAD,CAASC,GAAE,mBAAcD,EAAME,IAAMC,UAAWC,IAAMC,KAAMC,gBAAiBF,IAAMG,kBAC/E,yBAAKJ,UAAWC,IAAMI,YAClB,yBAAKC,IAAKT,EAAMU,MAAOC,IAAI,GAAGR,UAAWC,IAAMQ,SAC9CZ,EAAMK,Q,oDCQRQ,EAXK,SAACb,GACjB,OACI,yBAAKG,UAAWW,IAAGV,IAAMW,QAAP,eAAkBX,IAAMY,aAAgBhB,EAAMiB,SAC5D,6BAAMjB,EAAMe,SACVf,EAAMiB,OACJ,kBAAC,IAAD,CAAQC,QAAS,kBAAMlB,EAAMmB,cAAcnB,EAAME,GAAGF,EAAMoB,SAASjB,UAAWC,IAAMiB,kBAApF,uG,0CCJVC,EAAeC,YAAU,KACzBC,EAAWC,YAAkB,YAiBpBC,cAAU,CAErBC,KAAM,eAFKD,EAfK,SAAC1B,GACjB,OACI,0BAAM4B,SAAU5B,EAAM6B,cAClB,6BACI,kBAACC,EAAA,EAAD,CAAOC,UAAYP,EAAWnB,KAAM,qBAAsB2B,YAAY,4RAA2DC,KAAK,OAAOC,SAAU,CAACZ,EAAaa,QAEzK,yBAAKhC,UAAWC,IAAMgC,aAClB,kBAAC,IAAD,CAAQC,SAAS,SAASJ,KAAK,WAA/B,0DACA,kBAAC,IAAD,CAAQf,QAAS,kBAAMlB,EAAMsC,4BAA4BtC,EAAME,KAAK+B,KAAK,WAAzE,4ECoBDM,EA7BC,SAACvC,GACb,IAAIoB,EAASoB,OAAOxC,EAAMyC,MAAMC,OAAOtB,QAClCA,IACDA,EAAS,GAOb,OAAKpB,EAAM2C,OAGP,yBAAKxC,UAAWC,IAAMwC,SAClB,yBAAKzC,UAAWC,IAAMyC,QAEd7C,EAAM8C,YAAYC,KAAI,SAAAC,GAAC,OAAI,kBAAC,EAAD,CAAYC,IAAKD,EAAE9C,GAAIG,KAAM2C,EAAE3C,KAAMH,GAAI8C,EAAE9C,GAAIQ,MAAOsC,EAAEE,eAG3F,yBAAK/C,UAAWC,IAAM+C,UAEdnD,EAAM8C,YAAY1B,EAAS,GAAG+B,SAASJ,KAAI,SAAAK,GAAC,OAAI,kBAAC,EAAD,CAAaH,IAAKG,EAAElD,GAAIkB,OAAQA,EAAQlB,GAAIkD,EAAElD,GAAIa,QAASqC,EAAErC,QAASE,MAAOmC,EAAEnC,MAAOE,cAAenB,EAAMmB,mBAE/J,kBAAC,EAAD,CAAajB,GAAIkB,EAAQkB,4BAA6BtC,EAAMsC,4BAA6BV,SAjBpF,SAACyB,GACdrD,EAAMsD,WAAWD,EAASE,mBAAmBnC,QAGvB,kBAAC,IAAD,CAAUnB,GAAG,Y,kCCR5BuD,sBACXC,aALkB,SAACC,GAAD,MAAY,CAC9BZ,YAAaY,EAAMC,YAAYb,eAIN,CAAC3B,kBAAcmC,eAAWhB,kCACnDsB,IACAC,IAHWL,CAIbjB","file":"static/js/5.1a65172d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xNiy\",\"dialog\":\"Dialogs_dialog__3rmOP\",\"messages\":\"Dialogs_messages__3-JM4\",\"btnLineForm\":\"Dialogs_btnLineForm__1_d1O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"name\":\"DialogItem_name__2Hhth\",\"dialogItem\":\"DialogItem_dialogItem__shPKp\",\"avatar\":\"DialogItem_avatar__1jNJB\",\"activeDialogName\":\"DialogItem_activeDialogName__1wbwS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"MessageItem_message__31yox\",\"messageDeleteBtn\":\"MessageItem_messageDeleteBtn__3YZv_\",\"messageToMe\":\"MessageItem_messageToMe__2TipN\"};","import React from 'react';\r\nimport style from './DialogItem.module.scss';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst DialogItem = (props) => {\r\n    return (\r\n        <NavLink to={`/dialogs/${props.id}`} className={style.name} activeClassName={style.activeDialogName}>\r\n            <div className={style.dialogItem}>\r\n                <img src={props.photo} alt=\"\" className={style.avatar} />\r\n                {props.name}\r\n            </div>\r\n        </NavLink>\r\n    );\r\n}\r\n\r\nexport default DialogItem;","import React from 'react';\r\nimport style from './MessageItem.module.scss';\r\nimport cn from \"classnames\";\r\nimport { Button } from 'antd';\r\n\r\n\r\nconst MessageItem = (props) => {\r\n    return(\r\n        <div className={cn(style.message, {[style.messageToMe] : !props.outMe})}>\r\n            <div>{props.message}</div>\r\n            { props.outMe &&\r\n                <Button onClick={() => props.deleteMessage(props.id,props.userId)} className={style.messageDeleteBtn}>Удалить сообщение</Button>\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MessageItem;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\nimport {maxLength,requiredField} from '../../../utils/validate/validateForm';\r\nimport createFormElement from '../../../hoc/createFormElement/createFormElement';\r\nimport { Button } from 'antd';\r\nimport style from '../Dialogs.module.scss';\r\n\r\nconst maxLength250 = maxLength(250);\r\nconst Textarea = createFormElement(\"textarea\");\r\n\r\nconst DialogsForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={ Textarea } name={\"dialogsMessageText\"} placeholder=\"Йо, по ту сторону монитора заждались твоего сообщения!!!\" type=\"text\" validate={[maxLength250,requiredField]} />\r\n            </div>\r\n            <div className={style.btnLineForm}>\r\n                <Button htmlType=\"submit\" type=\"primary\">Отправить</Button>\r\n                <Button onClick={() => props.deleteAllMessagesFromDialog(props.id)} type=\"primary\">Очистить чат</Button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nexport default reduxForm({\r\n    // a unique name for the form\r\n    form: 'DialogsForm'\r\n})(DialogsForm)","import React from 'react';\r\nimport style from './Dialogs.module.scss';\r\nimport DialogItem from './DialogItem/DialogItem';\r\nimport MessageItem from './MessageItem/MessageItem';\r\nimport { Redirect } from 'react-router-dom';\r\nimport DialogsForm from './DialogsForm/DialogsForm';\r\nimport { Button } from 'antd';\r\n\r\n\r\nconst Dialogs = (props) => {\r\n    let userId = Number(props.match.params.userId);\r\n    if (!userId) {\r\n        userId = 1;\r\n    }\r\n\r\n    let AddMessage = (formData) => {\r\n        props.addMessage(formData.dialogsMessageText,userId);\r\n    };\r\n    \r\n    if (!props.isAuth) return <Redirect to=\"/login\" />\r\n\r\n    return (\r\n        <div className={style.dialogs}>\r\n            <div className={style.dialog}>\r\n                {\r\n                    props.dialogsData.map(d => <DialogItem key={d.id} name={d.name} id={d.id} photo={d.photoUrl} />)\r\n                }\r\n            </div>\r\n            <div className={style.messages}>\r\n                {\r\n                    props.dialogsData[userId - 1].messages.map(m => <MessageItem key={m.id} userId={userId} id={m.id} message={m.message} outMe={m.outMe} deleteMessage={props.deleteMessage} />)\r\n                }\r\n                <DialogsForm id={userId} deleteAllMessagesFromDialog={props.deleteAllMessagesFromDialog} onSubmit={AddMessage} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Dialogs;","import Dialogs from './Dialogs';\r\nimport { addMessage, deleteMessage,deleteAllMessagesFromDialog} from './../../redux/dialogs-reducer';\r\nimport { connect } from 'react-redux';\r\nimport { compose } from 'redux';\r\nimport { withAuthRedirect } from '../../hoc/withAuthRedirect';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nlet mapStateToProps = (state) => ({\r\n    dialogsData: state.dialogsPage.dialogsData\r\n});\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {deleteMessage,addMessage,deleteAllMessagesFromDialog}),\r\n    withAuthRedirect,\r\n    withRouter\r\n)(Dialogs);"],"sourceRoot":""}